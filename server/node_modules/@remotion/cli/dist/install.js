"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.installCommand = exports.INSTALL_COMMAND = void 0;
const renderer_1 = require("@remotion/renderer");
const log_1 = require("./log");
exports.INSTALL_COMMAND = 'install';
const installCommand = async (remotionRoot, args) => {
    const firstArg = args[0];
    if (firstArg === 'ffmpeg') {
        const { wasAlreadyInstalled } = await (0, renderer_1.ensureFfmpeg)({ remotionRoot });
        if (wasAlreadyInstalled) {
            log_1.Log.info('FFmpeg is already installed');
        }
        else {
            log_1.Log.info('Successfully installed FFmpeg');
        }
        return;
    }
    if (firstArg === 'ffprobe') {
        const { wasAlreadyInstalled } = await (0, renderer_1.ensureFfprobe)({ remotionRoot });
        if (wasAlreadyInstalled) {
            log_1.Log.info('FFmpeg is already installed');
        }
        else {
            log_1.Log.info('Successfully installed FFmpeg');
        }
        return;
    }
    log_1.Log.error('Please specify either "ffmpeg" or "ffprobe" as the first argument to the install command');
    log_1.Log.error();
    log_1.Log.info('Example Usage: ');
    log_1.Log.info(' remotion install ffmpeg');
    log_1.Log.info(' remotion install ffprobe');
    process.exit(1);
};
exports.installCommand = installCommand;
