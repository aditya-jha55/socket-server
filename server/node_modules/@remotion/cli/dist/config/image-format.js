"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getUserPreferredImageFormat = exports.setImageFormat = void 0;
const renderer_1 = require("@remotion/renderer");
const truthy_1 = require("../truthy");
let currentImageFormat;
const setImageFormat = (format) => {
    if (typeof format === 'undefined') {
        currentImageFormat = undefined;
        return;
    }
    if (!renderer_1.RenderInternals.validImageFormats.includes(format)) {
        throw new TypeError([
            `Value ${format} is not valid as an image format.`,
            // @ts-expect-error
            format === 'jpg' ? 'Did you mean "jpeg"?' : null,
        ]
            .filter(truthy_1.truthy)
            .join(' '));
    }
    currentImageFormat = format;
};
exports.setImageFormat = setImageFormat;
const getUserPreferredImageFormat = () => {
    return currentImageFormat;
};
exports.getUserPreferredImageFormat = getUserPreferredImageFormat;
