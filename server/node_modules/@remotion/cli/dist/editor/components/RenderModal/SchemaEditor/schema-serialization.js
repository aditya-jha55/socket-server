"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.deserializeJSONWithSchema = exports.serializeJSONWithSchema = void 0;
const serializeJSONWithSchema = (data, indent) => {
    return JSON.stringify(data, function (key, value) {
        if (this[key] instanceof Date) {
            return `remotion-date:${this[key].toISOString()}`;
        }
        return value;
    }, indent);
};
exports.serializeJSONWithSchema = serializeJSONWithSchema;
const deserializeJSONWithSchema = (data) => {
    return JSON.parse(data, (_, value) => {
        if (typeof value === 'string' && value.startsWith('remotion-date:')) {
            return new Date(value.replace('remotion-date:', ''));
        }
        return value;
    });
};
exports.deserializeJSONWithSchema = deserializeJSONWithSchema;
