"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getImageFormat = void 0;
const renderer_1 = require("@remotion/renderer");
const config_1 = require("./config");
const getImageFormat = (codec) => {
    const userPreferred = config_1.ConfigInternals.getUserPreferredImageFormat();
    if (typeof userPreferred !== 'undefined') {
        return userPreferred;
    }
    if (renderer_1.RenderInternals.isAudioCodec(codec)) {
        return 'none';
    }
    if (codec === 'h264' ||
        codec === 'h264-mkv' ||
        codec === 'h265' ||
        codec === 'vp8' ||
        codec === 'vp9' ||
        codec === 'prores' ||
        codec === 'gif') {
        return 'jpeg';
    }
    if (codec === undefined) {
        return 'png';
    }
    throw new Error('Unrecognized codec ' + codec);
};
exports.getImageFormat = getImageFormat;
